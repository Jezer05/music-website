<template>  <div class="login-container">    <div class="title">{{ musicName }}</div>    <div class="login">      <el-form :model="loginForm" :rules="rules" label-width="22%" hide-required-asterisk>        <el-form-item prop="username" label="用户名">          <el-input v-model="loginForm.username" placeholder="username"></el-input>        </el-form-item>        <el-form-item prop="password" label="密码">          <el-input type="password" placeholder="password" v-model="loginForm.password" @keyup.enter="submitForm"></el-input>        </el-form-item>        <el-button type="primary" @click="submitForm" class="login-btn">登录</el-button>      </el-form>    </div>  </div></template><script lang="ts">import { RouterName } from "@/enums";import {useRouter} from "@/hooks/useRouter";import {login} from "@/api/login";import {useAdminStore} from "@/store/admin";const adminStore = useAdminStore();export default defineComponent({  name: "Login",  setup() {    // 需要放在setup内，这样routerManager中才能获取到proxy    const { routerManager } = useRouter();    const musicName = ref("麻薯音乐管理系统")    const loginForm = reactive({      username: "",      password: "",    });    const rules = reactive({      username: [{ required: true, message: "请输入用户名", trigger: "blur" }],      password: [{ required: true, message: "请输入密码", trigger: "blur" }],    });    const submitForm = async () =>{        const result = (await login(loginForm));        console.log("@@" + result)        console.log(result);        if (result.data != null){            adminStore.setAdminInfo({...result.data});            adminStore.setToken(result.data.token )            adminStore.setIsLogin(true);        }        ElMessage({            message: result.message,            type: result.type as "success" | "warning" | "error" | "info"        });        if (result.success) routerManager(RouterName.Info, { path: RouterName.Info });    }    return {      musicName,      loginForm,      rules,      submitForm    }  },});</script><style lang="scss" scoped>@import "@/assets/css/login.scss";</style>